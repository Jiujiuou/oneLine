# 项目概览文档 (Project Overview)

本文档由 AI 助手生成，旨在梳理当前项目的架构、构建流程及代码状态，以便为后续开发做准备。

## 1. 项目简介

本项目是一个基于 **Vite + React** 的通用前端模板。
核心特点是使用 `vite-plugin-singlefile` 将项目构建为**单个 HTML 文件**，旨在简化部署流程（如直接部署到 GitHub Pages）。

### 核心技术栈

- **Framework**: React 18
- **Build Tool**: Vite 6
- **Styling**: Less (CSS Modules)
- **Linting**: ESLint
- **Git Hooks**: Husky (用于 pre-commit 自动构建)

---

## 2. 目录结构分析

```
src/
├── assets/          # 静态资源 (字体等)
├── components/      # UI 组件库 (Button, Switch, Layout 等)
│   ├── Layout/      # 整体布局框架 (Header + Content)
│   ├── Header/      # 顶部导航栏
│   ├── Preview/     # 左侧/中间 内容展示区 (目前为空)
│   └── Control/     # 右侧控制面板 (目前为空)
├── store/           # 状态管理 (目前为空目录)
├── hooks/           # 自定义 Hooks (目前为空目录)
├── utils/           # 工具函数 (目前为空目录)
├── constants/       # 常量定义 (目前为空目录)
├── App.jsx          # 应用根组件
└── main.jsx         # 入口文件
```

---

## 3. 构建与部署流程

项目采用了一套特殊的构建流程以适应单文件部署：

1.  **入口文件**：使用 `template.html` 作为 Vite 的入口（而非默认的 `index.html`）。
2.  **构建过程** (`npm run build`)：
    - Vite 将代码打包并内联所有资源（CSS, JS, Assets）到 `dist/template.html`。
    - 执行 `node afterbuild.cjs`。
3.  **构建后处理** (`afterbuild.cjs`)：
    - 将 `dist/template.html` 复制到项目根目录并重命名为 `index.html`。
    - 删除 `dist` 目录。
4.  **自动化** (`husky`):
    - 在 `pre-commit` 阶段自动运行构建，并 `git add index.html`，确保提交的代码总是包含最新的单文件构建产物。

---

## 4. 现有组件库 (UI Components)

项目已经内置了一套基础 UI 组件，代码质量较高，包含 PropTypes 类型检查和详细注释：

| 组件名             | 功能描述                    | 依赖情况 (需注意)                                  |
| :----------------- | :-------------------------- | :------------------------------------------------- |
| **Layout**         | 页面整体布局框架            | -                                                  |
| **Button**         | 通用按钮，支持多种类型/尺寸 | -                                                  |
| **Switch**         | 开关组件，支持明暗模式切换  | 依赖 `@/hooks` (useTipsPosition)                   |
| **DropdownSelect** | 高级下拉框，支持自定义选项  | 依赖 `@/utils`, `@/store`, `Button`, `InputDialog` |
| **InputDialog**    | 模态输入框                  | 依赖 `@/store` (useMessageStore), `@/hooks`        |
| **Message**        | 全局消息提示                | 依赖 `@/store`, `@/constants`                      |
| **Tooltip**        | 简单的文字提示气泡          | -                                                  |

---

## 5. 当前状态分析与待办事项 (Critical)

经过代码审查，发现项目处于**“骨架已备，逻辑未填”**的状态，且存在**依赖缺失**的问题：

### ⚠️ 关键缺失 (Missing Dependencies)

部分 UI 组件的代码中引用了以下模块，但对应的目录目前是空的：

- `src/store/index.js` (缺失): `useMessageStore`, `useThemeStore`
- `src/hooks/index.js` (缺失): `useTipsPosition`, `useKeyboardEvents`, `useAutoFocus`, `useOutsideClick`
- `src/utils/index.js` (缺失): `copyToClipboard`
- `src/constants/index.js` (缺失): `MESSAGE_TYPES`, `THEME_TYPES`

**这意味着当前项目直接运行可能会报错**。

### ✅ 已就绪

- Vite 配置和构建脚本运作正常。
- 基础 UI 组件的视觉和交互逻辑代码已编写完成。
- Layout 结构已搭建。

---

## 6. 后续开发建议

鉴于“后续要开始做一些事件”，建议按以下顺序进行：

1.  **补全基础架构**：
    - 在 `src/store` 中实现基础的 Context 或 Store（特别是 Message 和 Theme）。
    - 在 `src/hooks` 中补全缺失的 UI 交互 Hooks。
    - 在 `src/utils` 和 `src/constants` 中补充缺失的定义。
2.  **挂载 Providers**：
    - 在 `App.jsx` 或 `main.jsx` 中包裹必要的 Context Providers (如 `MessageProvider`, `ThemeProvider`)。
3.  **实现业务逻辑**：
    - 填充 `Preview` (展示区域) 和 `Control` (操作区域) 的具体内容。
    - 利用已有的 `Button`, `Switch` 等组件构建交互界面。
